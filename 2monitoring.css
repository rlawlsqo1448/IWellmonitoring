/* ===== 4×3 레이아웃 ===== */
.grid-4x3 {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  grid-auto-rows: 180px; /* 3행 */
  gap: 12px;
  padding: 12px;
}

/* 셀 스팬 */
.card-1x3 { grid-column: span 1; grid-row: span 3; }
.card-3x1 { grid-column: span 3; grid-row: span 1; }
.card-3x2 { grid-column: span 3; grid-row: span 2; } /* 선택 그룹 요약 확대 */

/* ===== 네비(필 버튼) — equipment와 동일 톤 ===== */
.sub-banner.nav-banner {
  background: #fff;
  border-bottom: 1px solid #ddd;
  padding: 0 !important;
}
.sub-banner.nav-banner .info {
  display: flex;
  flex-wrap: nowrap;
  gap: 10px;
  padding: 12px;
  align-items: center;
  overflow-x: auto;
  scrollbar-width: thin;
}
.sub-banner.nav-banner .label, .sub-banner.nav-banner .stat-block {
  display: none !important;
}
.nav-chip {
  flex: 0 0 auto;
  display: inline-flex; align-items: center; justify-content: center;
  padding: 8px 18px; min-width: 160px;
  border: 1px solid #e0e0e0; background: #f8f9fb; color: #333;
  border-radius: 9999px; text-decoration: none; font-size: 0.92rem; font-weight: 600; white-space: nowrap;
}
.nav-chip:hover { background: #eef2f7; }
.nav-chip.active { border-color: #0b5fff; color: #0b5fff; background: #f4f8ff; }

/* ===== 트리 ===== */
.tree-search { display: flex; flex-direction: column; gap: 8px; margin-bottom: 8px; }
.tree-search input { padding: 6px 8px; border: 1px solid #ccc; border-radius: 4px; }
.btnrow { display: flex; gap: 6px; }

.tree { list-style: none; padding-left: 0; }
.tree li { margin: 2px 0; }
.node { display: flex; align-items: center; gap: 6px; padding: 6px; border-radius: 4px; cursor: pointer; }
.node:hover { background: #f4f6f8; }
.toggle { font-weight: 700; width: 18px; text-align: center; color: #666; user-select: none; }
.label { flex: 1; color: #333; }
.subtree { margin-left: 18px; border-left: 1px dashed #e3e3e3; padding-left: 8px; display: block; }
.selected { background: #eaf2ff !important; }

/* ===== 선택 그룹 요약(가독성 강화 + 확대) ===== */
.sel-grid {
  display: grid; grid-template-columns: repeat(3, 1fr);
  gap: 0; border-bottom: 1px solid #eee; margin-bottom: 10px;
}
.sel-section { padding: 10px 14px; }
.sel-section + .sel-section { border-left: 1px solid #eee; }
.sel-title { font-weight: 700; color: #333; margin-bottom: 8px; letter-spacing: 0.2px; }

.kpi { font-weight: 800; color: #222; }
.kpi.xl { font-size: 2rem; line-height: 1.1; }
.kpi.lg { font-size: 1.4rem; }

.muted { color: #666; font-size: 0.95rem; }
.row { display: flex; align-items: center; gap: 10px; }
.row.wrap { flex-wrap: wrap; }

.kv { display: flex; justify-content: space-between; align-items: center; margin-top: 8px; }
.kv-label { color: #666; font-size: 0.9rem; }
.kv-value { color: #111; font-weight: 700; }

.pill {
  font-size: 0.85rem; padding: 3px 12px; border: 1px solid #e1e1e1; background: #f6f6f6;
  border-radius: 9999px; color: #333;
}

/* 하단 미니 섹션 (요약 내부) */
.summary-minis {
  display: grid;
  grid-template-columns: 2fr 1fr;
  gap: 12px;
  align-items: start;
}
.mini-card { display: flex; flex-direction: column; gap: 6px; }
.mini-title { font-weight: 600; color: #444; }
.chart-mini { position: relative; width: 100%; height: 160px; }
.chart-mini.tall { height: 180px; }
.mini-kpis { margin-top: 6px; }
.badge { font-size: 0.78rem; padding: 2px 8px; border-radius: 10px; border: 1px solid #e1e1e1; background: #f6f6f6; color: #555; }

/* 실시간 패턴 카드 */
.card-3x1 .chart-mini { height: 180px; }

/* 토스트 */
.toast { position: fixed; right: 16px; bottom: 16px; background: #222; color: #fff; padding: 8px 12px; border-radius: 8px; opacity: 0; transform: translateY(8px); transition: all .25s ease; z-index: 10; }
.toast.show { opacity: 1; transform: translateY(0); }
